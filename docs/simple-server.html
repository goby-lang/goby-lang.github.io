<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>SimpleServer · Goby</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="SimpleServer · Goby"/><meta property="og:type" content="website"/><meta property="og:url" content="https://goby-lang.org/index.html"/><meta property="og:description" content="## Getting Started"/><meta property="og:image" content="https://goby-lang.org/img/goby-logo.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/darcula.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">Goby</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/introduction.html" target="_self">Introduction</a></li><li><a href="https://sample.goby-lang.org" target="_self">Sample Site</a></li><li><a href="https://github.com/goby-lang/goby" target="_self">GitHub</a></li><li><a href="https://goby-lang-slackin.herokuapp.com/" target="_self">Join our Slack!</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Features</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Get Startted</h3><ul><li class="navListItem"><a class="navItem" href="/docs/introduction.html">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/installation.html">Installation</a></li></ul></div><div class="navGroup navGroupActive"><h3>Features</h3><ul><li class="navListItem"><a class="navItem" href="/docs/plugin-system.html">Plugin System</a></li><li class="navListItem"><a class="navItem" href="/docs/thread-and-channel.html">Thread and Channel</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/simple-server.html">SimpleServer</a></li></ul></div><div class="navGroup navGroupActive"><h3>Language</h3><ul><li class="navListItem"><a class="navItem" href="/docs/variable-and-constant.html">Variable and Constant</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>SimpleServer</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" name="getting-started"></a><a href="#getting-started" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started</h2>
<p>To use the built-in HTTP server, you need to include the <code>net/simple_server</code> library in your Goby file.</p>
<pre><code class="hljs css ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">'net/simple_server'</span>
</code></pre>
<p>To create an instance of the simple server, use the class Net::SimpleServer and then specify the port number.</p>
<pre><code class="hljs css ruby">server = Net::SimpleServer.new(<span class="hljs-number">3000</span>) <span class="hljs-comment"># Create a server instance with port 3000</span>
</code></pre>
<p>Goby's simple server support for different kinds of HTTP verb including the <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> actions which enables you to create simple RESTful application.</p>
<p>Let's say we want to create a root path with a GET action:</p>
<pre><code class="hljs css ruby">server.get <span class="hljs-string">"\" do |request, response|
  response.status = 200
  response.body   = 'Hello Visitor!'
  response.set_header('Content-Type', 'text/plain')
end
</span></code></pre>
<p>You can see that we can <strong>specify our route</strong> and <strong>pass in whatever kind of HTTP verbs</strong> as a method of the server instance. It provides the <code>Net::HTTP::Request</code> and the <code>Net::HTTP::Response</code> objects to help you construct the response of the request.
In the example code above, the status of the response is specified as 200 and the content is the string provided to the body of the response. Notice that to set the header, we use the <code>Net::HTTP::Response#set_header</code> method instead of passing a hash like object to set the response header.
After you've set all of the routings, the you can simply start the server using the <code>Net::HTTP::SimpleServer#start</code> method.</p>
<pre><code class="hljs css ruby">server.start <span class="hljs-comment"># Start the HTTP simple server in port 3000</span>
</code></pre>
<p>Put them all together:</p>
<pre><code class="hljs css ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">'net/simple_server'</span>

server = Net::SimpleServer.new(<span class="hljs-number">3000</span>) <span class="hljs-comment"># Create a server instance with port 3000</span>

server.get(<span class="hljs-string">'\') do |request, response|
  response.status = 200
  response.body   = '</span>Hello Visitor!<span class="hljs-string">'
  response.set_header('</span>Content-Type<span class="hljs-string">', '</span>text/plain<span class="hljs-string">')
end

server.start # Start the HTTP simple server in port 3000
</span></code></pre>
<p>And now you can go visit <a href="http://localhost:3000/">http://localhost:3000/</a> to see the server saying hi to you!</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="thread-and-channel.html">← Thread and Channel</a><a class="docs-next button" href="variable-and-constant.html">Variable and Constant →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/introduction.html">Introduction</a><a href="/docs/en/installation.html">Installation</a></div><div><h5>Community</h5><a href="https://sample.goby-lang.org" target="_blank">Sample Site</a><a href="https://goby-lang-slackin.herokuapp.com/">Slack</a><a href="https://twitter.com/goby_lang" target="_blank">Twitter</a></div><div><h5>More</h5><a href="https://medium.com/goby-lang">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/goby-lang/goby" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-47510815-14', 'auto');
              ga('send', 'pageview');
            </script></body></html>